!function(t){function e(n){if(i[n])return i[n].exports;var s=i[n]={exports:{},id:n,loaded:!1};return t[n].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){t.exports=i(7)},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function(){function t(){i(this,t)}return n(t,null,[{key:"between",value:function(t,e,i){return t>=e&&t<=i}},{key:"cycleAnimation",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?1:arguments[1],i=arguments.length<=2||void 0===arguments[2]||arguments[2];return{img:t,counter:0,end:!1,repeat:i,draw:function(t,i,n){if(!this.end){var s,h,o,r,a,u,l;s=this.img,h=s.width,o=s.height,r=Math.floor(this.counter),a=s.counter,l=r%a,u=(r-l)/a,t.drawImage(s.node,l*h,u*o,h,o,i,n,h,o),r!==s.num||this.repeat||(this.end=!0),r===s.num?this.counter=1:this.counter+=e}}}}}]),t}();e["default"]=s,t.exports=e["default"]},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function(){function t(e,n){i(this,t),this.screen=n,this.img=e,this.x=0,this.y=0,this.y1=-this.img.height,this.speed=3}return n(t,[{key:"draw",value:function(t){var e,i,n;e=this.screen.width,i=this.screen.height,n=this.img.height,t.drawImage(this.img,0,0,e,n,this.x,this.y,e,n),t.drawImage(this.img,0,0,e,n,this.x,this.y1,e,n),this.y>=i?this.y=this.y1-n+this.speed:this.y+=this.speed,this.y1>=i?this.y1=this.y-n:this.y1+=this.speed}}]),t}();e["default"]=s,t.exports=e["default"]},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function(){function t(e,n,s,h){i(this,t),this.img=e,this.x=n-e.width/2,this.y=s,this.width=e.width,this.height=e.height,this.speed=h}return n(t,[{key:"draw",value:function(t){t.drawImage(this.img,this.x,this.y),this.y-=this.speed}}]),t}();e["default"]=s,t.exports=e["default"]},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var h=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=i(2),r=n(o),a=i(6),u=n(a),l=i(5),d=n(l),c=i(1),f=n(c),p=function(){function t(e,i){s(this,t),this.screen={width:e.width,height:e.height},this.config=i,this.ctx=e.getContext("2d"),this.back=new r["default"](i.backImage,this.screen),this.ship=null,this.rocks=[],this.bullets=[],this.fireEventHadle=function(t){32===t.keyCode&&this.ship.fire(this.bullets)}.bind(this),this.states={handle:0,backHandle:0},this.backRun=function(){this.back.draw(this.ctx),this.states.backHandle=window.requestAnimationFrame(this.backRun.bind(this))}.bind(this),this.backRun()}return h(t,[{key:"init",value:function(){this.states.handle>0&&window.cancelAnimationFrame(this.states.handle),document.removeEventListener("keypress",this.fireEventHadle);var t=this.config;this.ship=new u["default"](t.shipImage,t.bulletImage,t.shipExplosionImage,this.screen),this.rocks=[],this.bullets=[],document.addEventListener("keypress",this.fireEventHadle)}},{key:"generateRock",value:function(){if(!(new Date%20!=0||this.rocks.length>20)){var t,e,i,n,s,h;e=this.config.rocks[Math.floor(Math.random()*this.config.rocks.length)],i=this.config.rockExplosionImage,n=Math.random()*(this.screen.width-e.width-10),s=-e.height-5,h=10*Math.random(),t=new d["default"](e,i,n,s,h),this.rocks.push(t)}}},{key:"draw",value:function(){var t=this,e=this.ctx,i=this.ship,n=f["default"].between;i.draw(e);for(var s=0;s<this.bullets.length;s++){var h=this.bullets[s];h.y<-h.height-5?delete this.bullets.splice(s,1):h.draw(e)}var o,r,a,u;r=i.x,o=i.x+i.width,a=i.y,u=i.y+i.height;for(var l=this.rocks.length-1;l>=0;l--){var d=this.rocks[l];d.y>t.screen.height+10||d.exploded?this.rocks.splice(l,1):d.draw(e,this.bullets);var c,p,g,m;p=d.x,c=d.x+d.width,g=d.y+.6*d.height,m=this.bullets,m.forEach(function(t,e){var i=t.x+t.img.width/2;t.y<=g&&n(i,p,c)&&(d.explode(),m.splice(e,1))}),n(g,a,u)&&n(p,r,o)&&(d.explode(),i.explode()),n(g,a,u)&&n(c,r,o)&&(d.explode(),i.explode())}}},{key:"start",value:function(){this.draw(),this.ship.exploding||this.generateRock(),this.states.handle=window.requestAnimationFrame(this.start.bind(this))}}]),t}();e["default"]=p,t.exports=e["default"]},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var h=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=i(1),r=n(o),a=function(){function t(e,i,n,h,o){s(this,t),this.x=n,this.y=h,this.width=e.width,this.height=e.height,this.speed=o,this.exploding=!1,this.exploded=!1,this.animation=r["default"].cycleAnimation(e,.1),this.explosionAnimation=r["default"].cycleAnimation(i,1,!1)}return h(t,[{key:"draw",value:function(t){return this.exploding?(this.explosionAnimation.draw(t,this.x,this.y),void(this.exploded=this.explosionAnimation.end)):(this.animation.draw(t,this.x,this.y),void(this.y+=this.speed))}},{key:"explode",value:function(){this.exploding=!0}}]),t}();e["default"]=a,t.exports=e["default"]},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var h=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=i(3),r=n(o),a=i(1),u=n(a),l=function(){function t(e,i,n,h){s(this,t);var o;this.img=e,this.bulletImg=i,this.screen=h,o=this.screen.width/8/this.img.width,this.width=Math.floor(this.img.width*o),this.height=Math.floor(this.img.height*o),this.x=h.width/2-this.width/2,this.y=h.height-this.height-30,this.speed=3,this.rightBorder=h.width-this.width,this.pressRight=!1,this.pressLeft=!1,this.exploding=!1,this.explosionAnimation=u["default"].cycleAnimation(n,.2),document.addEventListener("keydown",function(t){this.exploding||(37===t.keyCode&&(this.pressLeft=!0),39===t.keyCode&&(this.pressRight=!0))}.bind(this)),document.addEventListener("keyup",function(t){37===t.keyCode&&(this.pressLeft=!1),39===t.keyCode&&(this.pressRight=!1)}.bind(this))}return h(t,[{key:"draw",value:function(t){t.drawImage(this.img,this.x,this.y,this.width,this.height),this.exploding===!0&&this.explosionAnimation.draw(t,this.x,this.y),this.pressRight&&this.x<this.rightBorder&&(this.x+=this.speed),this.pressLeft&&this.x>0&&(this.x-=this.speed)}},{key:"fire",value:function(t){if(!(this.exploding||t.length>=10)){var e=new r["default"](this.bulletImg,this.x+this.width/2,this.y,5);t.push(e)}}},{key:"explode",value:function(){this.exploding=!0,this.pressLeft=!1,this.pressRight=!1}}]),t}();e["default"]=l,t.exports=e["default"]},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var s=i(4),h=n(s);!function(){var t,e,i=document.documentElement,n=document.getElementById("myCanvas");n.width=i.clientWidth>750?750:i.clientWidth,n.height=i.clientHeight,t={backImage:document.getElementById("back"),shipImage:document.getElementById("ship"),rocks:[{node:document.getElementById("rock-A"),width:72,height:72,num:18,counter:5},{node:document.getElementById("rock-B"),width:72,height:72,num:18,counter:5}],rockExplosionImage:{node:document.getElementById("rock-explosion"),width:64,height:64,num:15,counter:4},shipExplosionImage:{node:document.getElementById("ship-explosion"),width:96,height:96,num:17,counter:5},bulletImage:document.getElementById("bullet")},console.log(t.shipImage.complete),e=new h["default"](n,t),document.addEventListener("keypress",function(t){13===t.keyCode&&(e.init(),e.start())})}()}]);